--- gems/rack-mount-0.6.9/lib/rack/mount/route_set.rb	2010-08-20 16:44:30.000000000 -0700
+++ gems/rack-mount-x/lib/rack/mount/route_set.rb	2010-08-20 16:47:54.000000000 -0700
@@ -324,7 +324,11 @@
             k = keys.map { |key| block.call(key, index) }
             Utils.pop_trailing_nils!(k)
             k.map! { |key| key || /.+/ }
-            graph[*k] = route
+            # MagLev: Patch around Trac 782
+            #graph[*k] = route
+            k << route
+            graph.store(*k)
+            # End MagLev
           end
         end
         graph
