This directory holds test scripts useful for MagLev. It's a bit of a kluge
meant for internal use. We're providing it in case you want a shortcut for
comparative testing.

===================================================

1) Scripts to run ruby-benchmark-suite tests
  runAllBenchmarks.sh
  run_benchmarks-*.rb

You may need to adjust the commands in runAllBenchmarks.sh to reflect
the proper location of your ruby executables.

The above scripts invoke other ruby scripts in ../benchmark/cangiano that are
versions of the bm_*.rb files from Antonio Cangiano's ruby-benchmark-suite
modified to produce timing and status information as shown below:

==> Start benchmark: ./core-features/bm_app_answer.rb
             user     system      total        real
(any text output by the unmodified benchmark would be here)
         2.030000   0.260000   2.290000 (  2.316928)
==> End benchmark: ./core-features/bm_app_answer.rb

Suggested usage:
  bash -v runAllBenchmarks.sh
  This will produce a .csv file containing timing for all implementations run

Or for single tests:
  ruby ./run_benchmarks-MRI-186p287.rb 1>benchmark_results-MRI.out 2>&1
  maglev-ruby ./run_benchmarks-MagLev.rb 1>benchmark_results-Maglev.out 2>&1

You can run these without redirecting output if you want to watch a live run.

NOTE: At present the benchmarks require these files to be in the directory
from which the scripts are run. They are links to the ../benchmarks hierarchy.
  fasta.input
  hilbert.rb
  random.input
  wc.input
  wc.input.base

2) Scripts to process results
  extractTimes.awk

The above script extracts benchmark names and timing information in spreadsheet format.
awk -f extractTimes.awk <benchmark-output-file>

===================================================
